<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Свой дом НН | Современные каркасные дома</title>
  <meta name="description" content="Свой дом НН — современные энергоэффективные каркасные дома. Калькулятор стоимости, проекты, экспертная консультация, заявка онлайн.">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="https://i.postimg.cc/dtdMVQBt/5b4c9b6e-9b7d-43b3-b257-39722a15280c.png">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', sans-serif;
      line-height: 1.6;
      color: #2c3e50;
      background: linear-gradient(135deg, #1a252f 0%, #2c3e50 100%);
      min-height: 100vh;
    }

    /* Навигация */
    nav {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(26, 37, 47, 0.95);
      padding: 15px 0;
      z-index: 1000;
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(0,0,0,0.3);
    }

    nav a {
      color: #ecf0f1;
      text-decoration: none;
      margin: 0 20px;
      font-weight: 500;
      transition: color 0.3s ease;
      position: relative;
    }

    nav a:hover, nav a.active {
      color: #FF6F61;
    }

    nav a.active::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 2px;
      background: #FF6F61;
    }

    /* Hero секция */
    .hero-video-wrap {
      position: relative;
      width: 100%;
      min-height: 70vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .hero-bg-video {
      position: absolute;
      top: 50%;
      left: 50%;
      min-width: 100%;
      min-height: 100%;
      width: auto;
      height: auto;
      transform: translate(-50%, -50%);
      z-index: -1;
    }

    .hero-content {
      text-align: center;
      color: white;
      z-index: 2;
      background: rgba(26,37,47,0.12);
      padding: 40px 20px;
      border-radius: 15px;
      backdrop-filter: blur(5px);
    }

    .hero-content h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    .hero-content p {
      font-size: 1.2rem;
      max-width: 400px;
      margin: 0 auto;
      opacity: 0.9;
    }

    /* Проекты */
    .projects-section {
      padding: 80px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .projects-section h2 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 50px;
      color: #ecf0f1;
      font-family: 'Montserrat', sans-serif;
    }

    .projects-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .card {
      background: rgba(44, 62, 80, 0.8);
      border-radius: 15px;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }

    .card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }

    .card-content {
      padding: 25px;
      color: #ecf0f1;
    }

    .card-content h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: #FF6F61;
      font-family: 'Montserrat', sans-serif;
    }

    .card-content p {
      margin-bottom: 20px;
      opacity: 0.9;
      line-height: 1.6;
    }

    .card-content a {
      display: inline-block;
      background: #FF6F61;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 25px;
      transition: background 0.3s ease;
      font-weight: 500;
    }
.card-content a:hover {
      background: #e55a4f;
    }

    /* Калькулятор */
    .calc-section {
      max-width: 600px;
      margin: 60px auto;
      padding: 0 20px;
    }

    .calc-section h2 {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 15px;
      color: #FF6F61;
      font-family: 'Montserrat', sans-serif;
    }

    .calc-description {
      text-align: center;
      font-size: 1rem;
      max-width: 400px;
      margin: 0 auto 25px auto;
      color: #bfd6ee;
      opacity: 0.9;
    }

    .calc-form {
      background: rgba(44, 62, 80, 0.9);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group.full-width {
      grid-column: 1 / -1;
    }

    .calc-form label {
      color: #ecf0f1;
      font-weight: 500;
      margin-bottom: 8px;
      font-size: 0.95rem;
    }

    .calc-form input,
    .calc-form select {
      padding: 12px 15px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.05);
      color: #ecf0f1;
      font-size: 1rem;
      transition: border-color 0.3s ease, background 0.3s ease;
    }

    .calc-form input:focus,
    .calc-form select:focus {
      outline: none;
      border-color: #FF6F61;
      background: rgba(255, 255, 255, 0.1);
    }

    .calc-form option {
      background: #2c3e50;
      color: #ecf0f1;
    }

    .calc-btn {
      width: 100%;
      background: linear-gradient(135deg, #FF6F61, #e55a4f);
      color: white;
      border: none;
      padding: 15px;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      margin-top: 10px;
    }

    .calc-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(255, 111, 97, 0.4);
    }

    .calc-result {
      margin-top: 25px;
      padding: 25px;
      background: rgba(44, 62, 80, 0.6);
      border-radius: 15px;
      text-align: center;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .price-display {
      font-size: 2rem;
      color: #FF6F61;
      font-weight: 700;
      margin: 15px 0;
      font-family: 'Montserrat', sans-serif;
    }

    .price-breakdown {
      margin-top: 20px;
      text-align: left;
      color: #bfd6ee;
    }

    .price-breakdown div {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      padding-bottom: 5px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .economy-bonus {
      color: #6EFFB7;
      font-weight: 600;
      font-size: 1.1rem;
      margin-top: 15px;
    }

    /* Форма обратной связи */
    .feedback-section {
      max-width: 500px;
      margin: 60px auto;
      padding: 0 20px;
    }

    .feedback-section h2 {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 30px;
      color: #ecf0f1;
      font-family: 'Montserrat', sans-serif;
    }

    .feedback-form {
      background: rgba(44, 62, 80, 0.9);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .feedback-form label {
      display: block;
      color: #ecf0f1;
      font-weight: 500;
      margin-bottom: 8px;
    }

    .feedback-form input {
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 20px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.05);
      color: #ecf0f1;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }
.feedback-form input:focus {
      outline: none;
      border-color: #FF6F61;
      background: rgba(255, 255, 255, 0.1);
    }

    .feedback-btn {
      width: 100%;
      background: linear-gradient(135deg, #FF6F61, #e55a4f);
      color: white;
      border: none;
      padding: 15px;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .feedback-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(255, 111, 97, 0.4);
    }

    .success-message, .error-message {
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
      text-align: center;
      font-weight: 500;
    }

    .success-message {
      background: rgba(110, 255, 183, 0.2);
      color: #6EFFB7;
      border: 1px solid #6EFFB7;
    }

    .error-message {
      background: rgba(255, 111, 97, 0.2);
      color: #FF6F61;
      border: 1px solid #FF6F61;
    }

    /* Кнопка помощника */
    .sergey-fab-rect {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(135deg, #FF6F61, #e55a4f);
      color: white;
      border: none;
      padding: 15px 20px;
      border-radius: 25px;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(255, 111, 97, 0.4);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
      z-index: 1000;
    }

    .sergey-fab-rect:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(255, 111, 97, 0.6);
    }

    .sergey-fab-rect .icon {
      font-size: 1.2rem;
    }

    /* Адаптивность */
    @media (max-width: 768px) {
      .hero-content h1 {
        font-size: 2rem;
      }
      
      .hero-content p {
        font-size: 1rem;
      }

      .form-row {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .projects-cards {
        grid-template-columns: 1fr;
      }

      nav a {
        margin: 0 10px;
        font-size: 0.9rem;
      }

      .sergey-fab-rect {
        bottom: 20px;
        right: 20px;
        padding: 12px 16px;
      }

      .sergey-fab-rect .label {
        display: none;
      }
    }

    @media (max-width: 480px) {
      .calc-section, .feedback-section {
        padding: 0 15px;
      }

      .calc-form, .feedback-form {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Меню -->
  <nav>
    <a href="index.html" class="active">Главная</a>
    <a href="technology.html">Технологии</a>
  </nav>

  <!-- Hero-видео-блок -->
  <section class="hero-video-wrap">
    <video class="hero-bg-video" autoplay loop muted playsinline preload="auto">
      <source src="https://www.dropbox.com/scl/fi/llhhw58f34rj8uocsgatp/.mp4?rlkey=d6q3cehq9qa74c6iiuykggzmz&st=173gam4a&raw=1" type="video/mp4">
    </video>
    <div class="hero-content">
      <h1>Свой дом <span style="color:#FF6F61;">НН</span></h1>
      <p>Тёплые каркасные дома<br> с перекрёстным утеплением</p>
    </div>
  </section>

  <!-- Блок проектов -->
  <section class="projects-section">
    <h2>Наши проекты</h2>
    <div class="projects-cards">
      <div class="card">
        <img src="https://i.postimg.cc/1zqmWjSY/photo-5467372104157624625-x.jpg" alt="Семейный 40">
        <div class="card-content">
          <h3>Семейный 40</h3>
          <p>Большой семейный дом с террасой, три спальни, свободная планировка. Комфорт для всей семьи.</p>
          <a href="semeiny-40.html">Подробнее</a>
        </div>
      </div>
      <div class="card">
        <img src="https://github.com/domdom610/Svoy-Dom/blob/main/images/photo_5443140577278424526_y.jpg?raw=true" alt="МиниДом 36">
        <div class="card-content">
<h3>МиниДом 36</h3>
          <p>Компактный и светлый, для семьи или дачи. Панорамные окна, тёплый фасад, терраса.</p>
          <a href="minidom-36.html">Подробнее</a>
        </div>
      </div>
      <div class="card">
        <img src="https://i.postimg.cc/htSQ5xtq/photo-5467925983140117240-y.jpg" alt="Дом Куб 30">
        <div class="card-content">
          <h3>Дом Куб 30</h3>
          <p>Минималистичный дом-куб. Макс. света и уюта. Для творческих людей, современный вид.</p>
          <a href="dom-kub-30.html">Подробнее</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Улучшенный калькулятор -->
  <section class="calc-section">
    <h2>Индивидуальный расчёт для вашего будущего дома</h2>
    <div class="calc-description">
      Выберите параметры и получите детальный расчёт стоимости с учётом всех особенностей!
    </div>
    
    <div class="calc-form">
      <div class="form-row">
        <div class="form-group">
          <label>Площадь дома (м²):</label>
          <input type="number" id="area" min="20" max="400" value="100" required>
        </div>
        <div class="form-group">
          <label>Количество этажей:</label>
          <select id="floors">
            <option value="1">1 этаж</option>
            <option value="2">2 этажа</option>
          </select>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label>Тип фундамента:</label>
          <select id="foundation">
            <option value="svai">Свайный фундамент</option>
            <option value="plita">Плитный фундамент</option>
          </select>
        </div>
        <div class="form-group">
          <label>Комплектация:</label>
          <select id="complex">
            <option value="contour">Тёплый контур</option>
            <option value="podkluch">Под ключ</option>
          </select>
        </div>
      </div>
      
      <div class="form-group full-width">
        <label>Перекрёстное утепление:</label>
        <select id="cross">
          <option value="yes">Да (+11% к стоимости, экономия на отоплении до 25%)</option>
          <option value="no">Нет</option>
        </select>
      </div>
      
      <button type="button" onclick="calcHome()" class="calc-btn">
        Рассчитать стоимость дома
      </button>
    </div>
    
    <div id="calc-result" class="calc-result" style="display: none;"></div>
  </section>

  <!-- Улучшенная форма обратной связи -->
  <section class="feedback-section">
    <h2>Оставить заявку</h2>
    <form id="feedback-form" class="feedback-form">
      <label>
        Имя:
        <input type="text" name="name" id="name" required placeholder="Ваше имя" />
      </label>
      <label>
        Телефон:
        <input type="tel" name="phone" id="phone" required placeholder="+7 (_) _--" />
      </label>
      <button type="submit" class="feedback-btn">Отправить заявку</button>
    </form>
    <div id="form-message"></div>
  </section>

  <!-- Кнопка ассистента -->
  <button class="sergey-fab-rect" onclick="openSergeyChat()" aria-label="Чат с Сергеем Прорабом">
    <span class="icon">👷</span>
    <span class="label">Сергей Прораб</span>
  </button>

  <!-- Скрипты -->
  <script>
    // Улучшенный калькулятор
    function calcHome() {
      const area = Number(document.getElementById('area').value || 0);
      const floors = Number(document.getElementById('floors').value || 1);
      const foundation = document.getElementById('foundation').value;
      const complex = document.getElementById('complex').value;
      const cross = document.getElementById('cross').value === "yes";
      
      const resultDiv = document.getElementById('calc-result');
      
      if (!area || area < 20) {
        resultDiv.innerHTML = "<span style='color:#FF6F61;'>Пожалуйста, введите площадь дома от 20 м²!</span>";
resultDiv.style.display = 'block';
        return;
      }
      
      // Базовая стоимость за м²
      let basePrice = 27000;
      
      // Расчёт компонентов
      const components = {
        base: area * floors * basePrice,
        complex: complex === "podkluch" ? area * floors * 18500 : 0,
        foundation: foundation === "plita" ? area * floors * 3000 : 0,
        cross: 0
      };
      
      let subtotal = components.base + components.complex + components.foundation;
      
      if (cross) {
        components.cross = subtotal * 0.11;
        subtotal += components.cross;
      }
      
      // Формирование результата
      let breakdown = 
        <div class="price-breakdown">
          <div><span>Базовая стоимость (${area} м² × ${floors} эт.):</span><span>${components.base.toLocaleString()} ₽</span></div>
      ;
      
      if (components.complex > 0) {
        breakdown += <div><span>Комплектация "Под ключ":</span><span>+${components.complex.toLocaleString()} ₽</span></div>;
      }
      
      if (components.foundation > 0) {
        breakdown += <div><span>Плитный фундамент:</span><span>+${components.foundation.toLocaleString()} ₽</span></div>;
      }
      
      if (components.cross > 0) {
        breakdown += <div><span>Перекрёстное утепление:</span><span>+${components.cross.toLocaleString()} ₽</span></div>;
      }
      
      breakdown += </div>;
      
      const economyText = cross ? <div class="economy-bonus">💰 Экономия на отоплении до 25% в год!</div> : '';
      
      resultDiv.innerHTML = 
        <div><strong>Итоговая стоимость:</strong></div>
        <div class="price-display">${Math.round(subtotal).toLocaleString()} ₽</div>
        ${breakdown}
        ${economyText}
        <div style="font-size:0.9rem;color:#afcce7;margin-top:15px;">
          *Расчёт является предварительным. Для точной стоимости заполните заявку ниже
        </div>
      ;
      
      resultDiv.style.display = 'block';
    }

    // Улучшенная обработка формы
    document.getElementById('feedback-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      const name = formData.get('name').trim();
      const phone = formData.get('phone').trim();
      const messageDiv = document.getElementById('form-message');
      
      // Валидация
      if (!name || name.length < 2) {
        showMessage('Пожалуйста, введите корректное имя', 'error');
        return;
      }
      
      if (!phone || phone.length < 10) {
        showMessage('Пожалуйста, введите корректный номер телефона', 'error');
        return;
      }
      
      // Симуляция отправки
      const submitBtn = this.querySelector('.feedback-btn');
      submitBtn.textContent = 'Отправляем...';
      submitBtn.disabled = true;
      
      // Имитация отправки на сервер
      setTimeout(() => {
        // В реальном проекте здесь должен быть запрос к вашему серверу
        showMessage('Спасибо! Ваша заявка отправлена. Мы свяжемся с вами в ближайшее время.', 'success');
        this.reset();
        submitBtn.textContent = 'Отправить заявку';
        submitBtn.disabled = false;
      }, 1500);
    });
    
    function showMessage(text, type) {
      const messageDiv = document.getElementById('form-message');
      messageDiv.innerHTML = <div class="${type}-message">${text}</div>;
      
      if (type === 'success') {
        setTimeout(() => {
          messageDiv.innerHTML = '';
        }, 5000);
      }
    }

    // Маска для телефона
    document.getElementById('phone').addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      let formattedValue = '';
      
      if (value.startsWith('8')) {
        value = '7' + value.substring(1);
}
      
      if (value.startsWith('7')) {
        formattedValue = '+7';
        if (value.length > 1) {
          formattedValue += ' (' + value.substring(1, 4);
        }
        if (value.length >= 5) {
          formattedValue += ') ' + value.substring(4, 7);
        }
        if (value.length >= 8) {
          formattedValue += '-' + value.substring(7, 9);
        }
        if (value.length >= 10) {
          formattedValue += '-' + value.substring(9, 11);
        }
      } else if (value.length > 0) {
        formattedValue = '+' + value;
      }
      
      e.target.value = formattedValue;
    });

    // Чат-бот
    function openSergeyChat() {
      if (window.chatbase && typeof window.chatbase.openChat === 'function') {
        window.chatbase.openChat();
      } else {
        alert("Здравствуйте! Я прораб Сергей. Чат-бот загружается, подождите немного...");
      }
    }

    // Плавная прокрутка для навигации
    document.addEventListener('DOMContentLoaded', function() {
      // Добавляем отступ сверху для контента из-за фиксированной навигации
      document.body.style.paddingTop = '70px';
    });
  </script>

  <!-- Скрипт Chatbase -->
  <script>
    (function(){if(!window.chatbase||window.chatbase("getState")!=="initialized"){window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}})}const onLoad=function(){const script=document.createElement("script");script.src="https://www.chatbase.co/embed.min.js";script.id="elEbjas8v3UayyJoEx6Fq";script.domain="www.chatbase.co";document.body.appendChild(script)};if(document.readyState==="complete"){onLoad()}else{window.addEventListener("load",onLoad)}})();
  </script>
</body>
</html>}
